function payment_page_format_timestamp_for_current_user(e,t=!0){t="undefined"===t||t;let n=new Date(1e3*e),a={year:"numeric",month:"long",day:"numeric"};return!1===t?n.toLocaleDateString(payment_page_get_user_locale(),a):(a.hour="2-digit",a.minute="2-digit",n.toLocaleTimeString(payment_page_get_user_locale(),a))}function payment_page_element_loader(e=""){let t="";return t+='<div class="payment-page-application-loader-wrapper"'+(""!==e?' data-payment-page-loader-type="'+e+'"':"")+">","mini"===e?t+="<div><div></div></div>":""===PaymentPage.settings.loader_icon?t+="<div><div><div><div><div><div></div></div></div></div></div></div>":(t+='<img alt="loader" src="'+PaymentPage.settings.loader_icon+'"/>',t+="<div><div><div><div></div></div></div></div>"),t+="</div>",t}function payment_page_parse_args(e,t){return t="string"==typeof t?JSON.parse(t):payment_page_clone_object(t),"string"==typeof e&&(e.startsWith("{&quot;")&&(e=_.unescape(e)),e=JSON.parse(e)),jQuery.extend(!0,t,e)}function payment_page_format_price_as_non_decimal_int(e,t){const n=PaymentPage.settings.currency_code_to_decimal_map;return t=t.toUpperCase(),n.hasOwnProperty(t)?Math.floor(e*Math.pow(10,n[t])):Math.floor(100*e)}function payment_page_css_variable_value(e,t){return getComputedStyle(e[0]).getPropertyValue(t)}function payment_page_get_user_locale(){return navigator.userLanguage||navigator.languages&&navigator.languages.length&&navigator.languages[0]||navigator.language||navigator.browserLanguage||navigator.systemLanguage||"en"}function payment_page_is_valid_email(e){return e.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}function payment_page_redirect(e){window.location=e}function ec_scroll_to(e){(e="string"==typeof e?jQuery(e):e)[0].scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}function payment_page_is_in_viewport(e){e instanceof jQuery&&(e=e[0]);let t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function payment_page_array_intersect(e,t){return e.filter(Set.prototype.has,new Set(t))}function payment_page_in_array(e,t){return-1!==jQuery.inArray(e,t)}function payment_page_clone_object(e){return jQuery.extend(!0,{},e)}function payment_page_clone_array(e){return jQuery.merge([],e)}function payment_page_is_number(e){return/^-?\d+$/.test(e)}function payment_page_get_random_string(){return Date.now||(Date.now=function(){return(new Date).getTime()}),Math.random().toString(36).substring(2,10)+Date.now()}function payment_page_is_mobile(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)}function payment_page_is_display_state_visible(e){return void 0===e.attr("data-payment-page-display-state")||"visible"===e.attr("data-payment-page-display-state")}function payment_page_set_display_state_visible(e){e.attr("data-payment-page-display-state","visible")}function payment_page_set_display_state_hidden(e){e.attr("data-payment-page-display-state","hidden")}function payment_page_hashtag_container_from_browser_data_object(e,t){let n=payment_page_hashtag_container_from_browser(e),a="object"!=typeof t||null===t?{}:payment_page_clone_object(t);return n=n.split(";"),jQuery.each(n,(function(e,t){let n=t.split(":");a[n[0]]=decodeURIComponent(n[1])})),a}function payment_page_get_currency_symbol(e,t){if(void 0===t)return"???";let n=(0).toLocaleString(e,{style:"currency",currency:t.toUpperCase(),minimumFractionDigits:0,maximumFractionDigits:0,currencyDisplay:"symbol"}).replace(/\d/g,"").trim();return n.length>1?n[n.length-1]:n}function payment_page_hashtag_container_from_browser(e){if(0===window.location.hash.length)return"";let t=window.location.hash.replace("#","").split("&"),n=(void 0!==e.attr("data-payment-page-hashtag-parent-container")?jQuery(e.attr("data-payment-page-hashtag-parent-container")):e).parents("[data-payment-page-hashtag-identifier]").length;return void 0===t[n]?"":t[n]}function payment_page_hashtag_data_to_string(e){let t="";return jQuery.each(e,(function(e,n){""!==n&&null!=n&&(t+=(""===t?"":";")+e+":"+encodeURIComponent(n))})),t}function payment_page_hashtag_container_sync_to_browser(e,t){e.attr("data-payment-page-hashtag-identifier",payment_page_hashtag_data_to_string(t)),payment_page_hashtag_container_to_browser(e)}function payment_page_hashtag_container_to_browser(e){if(void 0===e.attr("data-payment-page-component"))return;let t=void 0!==e.attr("data-payment-page-hashtag-identifier")?e.attr("data-payment-page-hashtag-identifier"):"";(void 0!==e.attr("data-payment-page-hashtag-parent-container")?jQuery(e.attr("data-payment-page-hashtag-parent-container")):e).parents("[data-payment-page-hashtag-identifier]").each((function(){t=jQuery(this).attr("data-payment-page-hashtag-identifier")+(""===t?"":"&")+t})),window.location.hash==="#"+t||""===window.location.hash&&""===t||PaymentPage.Hashtag.inTriggerLoop||(window.location.hash=t)}function payment_page_get_cookie(e){const t=`; ${document.cookie}`.split(`; ${e} = `);if(2===t.length)return t.pop().split(";").shift()}function payment_page_set_cookie(e,t,n){let a="";if(n){let e=new Date;e.setTime(e.getTime()+60*n*1e3),a="; expires="+e.toGMTString()}document.cookie=e+"="+t+a+"; path=/"}function payment_page_country_code_to_flag(e){return e.toUpperCase().replace(/./g,(e=>String.fromCodePoint(e.charCodeAt(0)+127397)))}function payment_page_browser_lang(){return void 0!==typeof navigator.languages?navigator.languages[0]:navigator.language}function payment_page_format_currency(e,t){return new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e)}function payment_page_format_percent(e,t,n=null){e=parseFloat(e);let a={style:"percent",minimumFractionDigits:2,maximumFractionDigits:2};return null!==n&&e>=n&&(e=n,a.minimumFractionDigits=0,a.maximumFractionDigits=0),new Intl.NumberFormat(payment_page_browser_lang(),a).format(e/100)}function payment_page_form_field_repeater_parse_value(e,t){let n=payment_page_clone_object(e);return jQuery.each(n,(function(e,a){void 0!==t[a.name]&&(n[e].value=t[a.name])})),n}function payment_page_component_configuration_parse(e,t,n=!1){if(void 0!==e.container.attr("data-payment-page-component-args")){let a=JSON.parse(e.container.attr("data-payment-page-component-args"));e.container.removeAttr("data-payment-page-component-args"),__payment_page_component_configuration_parse_set(e,a,t,n)}else void 0!==e.container.attr("data-payment-page-component-action")?PaymentPage.API.fetch(e.container.attr("data-payment-page-component-action"),{},(function(a){e.container.removeAttr("data-payment-page-component-action"),__payment_page_component_configuration_parse_set(e,a,t,n)})):"function"==typeof t?t():"string"==typeof t&&e[t]()}function __payment_page_component_configuration_parse_set(e,t,n,a){a?"function"==typeof n?n(t):"string"==typeof n&&e[n](t):(e.configuration=payment_page_parse_args(t,e.configuration),"function"==typeof n?n():"string"==typeof n&&e[n]())}function payment_page_get_input_value(e){if((e=jQuery(e)).is("select[multiple]")){let t=[];return e.find("option:selected").each((function(){t[t.length]=jQuery(this).val()})),t.length>0?t:[""]}return e.val()}function payment_page_registerjQueryObjectSerialize(){jQuery.fn.paymentPageSerializeObject=function(){"use strict";let e={},t=this;return jQuery(this).find(":input").not('[type="submit"]').each((function(t,n){if(""===n.name)return!0;if(jQuery(n).is('[type="checkbox"], [type="radio"]')&&!jQuery(n).is(":checked"))return!0;let a=e[n.name],i=payment_page_get_input_value(n);null!=a?Array.isArray(a)?a.push(i):e[n.name]=i instanceof Array?i:[a,i]:e[n.name]=i})),jQuery.each(e,(function(n,a){if(!(a instanceof Array))return!0;if(n.endsWith("[]")){let i=t.find('input[name="'+n+'"][type="checkbox"]');return i.length>0?(e[n]=[],i.each((function(){jQuery(this).is(":checked")&&(e[n][e[n].length]=jQuery(this).val())})),i=t.find('input[name="'+n+'"][type="radio"]'),i.length>0&&0===i.filter(":checked")&&delete e[n],!0):(e[n.replace("[]","")]=a,delete e[n],!0)}let i=t.find('input[name="'+n+'"][type="hidden"]');i.length>0&&(e[n]=i.val());let o=t.find('input[name="'+n+'"]:checked');return o.length>0?(e[n]=o.val(),!0):void 0})),e}}function payment_page_hash_string(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return Math.round(Number.MAX_SAFE_INTEGER*Math.abs(t)/2147483648)}function payment_page_uc_first(e){return e.charAt(0).toUpperCase()+e.slice(1)}function payment_page_trim(e,t){for(;~t.indexOf(e[0]);)e=e.slice(1);for(;~t.indexOf(e[e.length-1]);)e=e.slice(0,-1);return e}String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e}),String.prototype.replaceAll||(String.prototype.replaceAll=function(e,t){return"[object regexp]"===Object.prototype.toString.call(e).toLowerCase()?this.replace(e,t):this.replace(new RegExp(e,"g"),t)}),Number.MAX_SAFE_INTEGER||(Number.MAX_SAFE_INTEGER=9007199254740991);let PaymentPage={Library:{},Component:{},_assets:{requested:[],loaded:[]},_components:{pending:{},instanced:{}},_template_prefix:"payment-page-",settings:{},lang:{},Init:function(e){e.find("[data-payment-page-component]").not("[data-payment-page-component-loaded]").each((function(){PaymentPage.initComponent(jQuery(this))})),e.find("[data-payment-page-library]").each((function(){PaymentPage.initLibrary(jQuery(this))})),e.find("#payment-page-notification-container .notice-dismiss").on("click",(function(){PaymentPage.API.post("payment-page/v1/administration/dismiss-notification",!1)}))},initComponent:function(e){let t=e.attr("data-payment-page-component");this.setLoadingContent(e,"","listing-search"===t?"mini":""),void 0!==PaymentPage.Component[t]?PaymentPage._instanceComponent(t,e):PaymentPage._loadComponent(t,e)},initLibrary:function(e){let t=e.attr("data-payment-page-library");t=payment_page_uc_first(t),void 0!==PaymentPage.Library[t]&&PaymentPage.Library[t].Init(e)},getComponentInstance:function(e,t){return t=parseInt(t),PaymentPage._components.instanced[e][t]},setLoadingContent:function(e,t="",n=""){if(1===e.find(" > .payment-page-application-loader-wrapper").length)return e.find(" > .payment-page-application-loader-status-text").remove(),void(""!==t&&e.prepend('<div class="payment-page-application-loader-status-text">'+t+"</div>"));e.html(payment_page_element_loader(n)),""!==t&&e.prepend('<div class="payment-page-application-loader-status-text">'+t+"</div>")},setNoResultsContent:function(e){e.html('<div data-payment-page-notification="info">'+this.lang.no_results_response+"</div>")},setErrorContent:function(e,t){if(void 0!==t.error_html)return e.html(t.error_html),void PaymentPage.Init(e);let n=void 0!==t.error_notification?t.error_notification:t.error;e.html('<div data-payment-page-notification="danger">'+n+"</div>")},setCancelledContent:function(e){void 0!==window.closed&&window.closed?e.html(""):e.html('<div data-payment-page-notification="info">'+this.lang.cancelled_request+"</div>")},setFailedAssetFetchContent:function(e){void 0!==window.closed&&window.closed?e.html(""):e.html('<div data-payment-page-notification="danger">'+this.lang.asset_failed_fetch+"</div>")},setHTML:function(e,t){PaymentPage.Destroy(e),e.html(t),PaymentPage.Init(e)},_loadComponent:function(e,t=!1){if(void 0===this._components.pending[e])return!1!==t&&(this._components.pending[e]=[t]),this.Resource.loadCSS(this.getComponentAssetPath(e,"style.css"),{"payment-page-component-stylesheet":e}),void this.Resource.loadJS(this.getComponentAssetPath(e,"controller.min.js"),(function(){PaymentPage._loadedComponent(e)}),(function(){!1!==t&&PaymentPage.setFailedAssetFetchContent(t)}));!1!==t&&(void 0===this._components.pending[e]&&(this._components.pending[e]=[]),this._components.pending[e][this._components.pending[e].length]=t)},_loadedComponent:function(e){void 0!==this._components.pending[e]&&(0!==this._components.pending[e].length&&jQuery.each(this._components.pending[e],(function(t,n){PaymentPage._instanceComponent(e,n)})),delete this._components.pending[e])},_instanceComponent:function(e,t){void 0===t.attr("data-payment-page-component-loaded")&&(t.attr("data-payment-page-component-loaded",0),this.setLoadingContent(t),void 0===this._components.instanced[e]&&(this._components.instanced[e]=[]),this._components.instanced[e][this._components.instanced[e].length]=payment_page_clone_object(this.Component[e]),t.attr("data-payment-page-component-instance-index",this._components.instanced[e].length-1),this._components.instanced[e][this._components.instanced[e].length-1].Init(t),t.attr("data-payment-page-component-loaded",1),this.Hashtag.Init())},getComponentAssetPath:function(e,t){if(void 0!==this.settings.component_injection[e]){let n=this.settings.component_injection[e];if("object"==typeof n){let e=Object.keys(n),a=!1;return jQuery.each(e,(function(e,n){return 0!==t.indexOf(n)||(a=n,!1)})),!1!==a?n[a]+"/"+t.replace(a,""):n.__default+"/"+t}return this.settings.component_injection[e]+"/"+t}return this.settings.library_url+"component/"+e+"/"+t},LoadAssets:function(e,t=!1,n=!0){if("string"==typeof e)return payment_page_in_array(e,PaymentPage._assets.loaded)?void("function"==typeof t&&t()):payment_page_in_array(e,PaymentPage._assets.requested)?void setTimeout((function(){PaymentPage.LoadAssets(e,t,n)}),100):(PaymentPage._assets.requested[PaymentPage._assets.requested.length]=e,e.endsWith(".css")?(PaymentPage.Resource.loadCSS(e),void("function"==typeof t&&t())):void PaymentPage.Resource.loadJS(e,t,!1,n));let a=_.head(e);if(1===e.length)return void this.LoadAssets(a,t);let i=this,o=_.drop(e,1);this.LoadAssets(a,(function(){i.LoadAssets(o,t)}))},isAssetLoaded:function(e){if(void 0===this._assets.loaded)return!1;if(e instanceof Array){let t=!0;return jQuery.each(e,(function(e,n){PaymentPage._assets.loaded.includes(n)||(t=!1)})),t}return this._assets.loaded.includes(e)},Destroy:function(e){void 0!==e.attr("data-payment-page-component")&&PaymentPage.__destroyComponent(e),"undefined"!=typeof tinyMCE&&(tinyMCE.triggerSave(),e.find(".wp-editor-area").each((function(){"undefined"!==jQuery(this).attr("id")&&tinyMCE.execCommand("mceRemoveEditor",!1,jQuery(this).attr("id"))}))),e.find("[data-payment-page-component]").each((function(){PaymentPage.__destroyComponent(jQuery(this))})),e.find("[data-payment-page-library]").each((function(){let e=jQuery(this).attr("data-payment-page-library");e=payment_page_uc_first(e),void 0!==PaymentPage.Library[e]&&PaymentPage.Library[e].Destroy(jQuery(this))})),e.find("*").off(),e.html("")},__destroyComponent:function(e){let t=e.attr("data-payment-page-component"),n=e.attr("data-payment-page-component-instance-index"),a=void 0!==PaymentPage._components.instanced[t]&&void 0!==PaymentPage._components.instanced[t][n];a&&"function"==typeof PaymentPage._components.instanced[t][n].__onDestroy&&PaymentPage._components.instanced[t][n].__onDestroy(),e.removeAttr("data-payment-page-component"),e.removeAttr("data-payment-page-component-loaded"),e.removeAttr("data-payment-page-component-instance-index"),a&&PaymentPage._components.instanced[t].splice(n,1)},RemoveHTMLNode:function(e){this.Destroy(e),e.remove()}};function _payment_page_init_application(e,t){PaymentPage.lang=e,PaymentPage.settings=payment_page_parse_args(t,PaymentPage.settings),PaymentPage.Init(jQuery("body")),jQuery(window).trigger("payment_page_ready")}jQuery(document).ready((function(){jQuery.extend(jQuery.expr[":"],{containsCaseInsensitive:function(e,t,n,a){return(e.textContent||e.innerText||"").toLowerCase().indexOf((n[3]||"").toLowerCase())>=0}}),_payment_page_init_application(window.payment_page_data.lang,window.payment_page_data.configuration)})),PaymentPage.Library.Clipboard={Init:function(e){void 0===window.ClipboardJS?PaymentPage.LoadAssets(PaymentPage.settings.libraries.clipboard,(function(){PaymentPage.Library.Clipboard._init(e)})):PaymentPage.Library.Clipboard._init(e)},_init:function(e){let t=payment_page_parse_args(e.attr("data-payment-page-library-args"),{trigger:null,target:null}),n="payment-page-clipboard-"+payment_page_get_random_string()+"-copy",a=null;if(null===t.target&&null===t.trigger){if(e.find('[type="text"][readonly="readonly"]').length>0)return;let t=e.text(),i='<input type="text" value="'+_.escape(t)+'" readonly="readonly"/><span id="'+n+'" data-payment-page-button="primary" data-clipboard-text="'+_.escape(t)+'">'+PaymentPage.settings.svg_icon_map.copy+"</span>";e.html(i),a=new ClipboardJS("#"+n,{text:function(){return t}})}else e.find(t.trigger).attr("id",n),a=new ClipboardJS("#"+n,{text:function(){return e.find(t.target).val()}});a.on("success",(function(e){let t=jQuery(e.trigger);0===t.find("> span").length&&(t.find("> svg, > strong").fadeOut("fast"),t.append("<span>"+PaymentPage.settings.svg_icon_map.circle_checkmark+"</span>"),setTimeout((function(){t.find("> span").fadeOut("fast",(function(){jQuery(this).remove()})),t.find("> svg, > strong").fadeIn("slow")}),2e3))}))}},PaymentPage.Library.Colorpicker={instances:{},Init:function(e){let t=this;void 0!==window.Pickr?this._init(e):PaymentPage.LoadAssets(PaymentPage.settings.libraries.pickr,(function(){t._init(e)}))},_init:function(e){e.each((function(){if(void 0!==jQuery(this).attr("data-payment-page-library-loaded"))return;let t=jQuery(this);void 0===t.attr("id")&&t.attr("id","pp-cp-"+payment_page_get_random_string()),t.before('<div data-payment-page-scope="replace-by-colorpicker"></div>');let n=window.Pickr.create({el:t.parent().find('[data-payment-page-scope="replace-by-colorpicker"]:first')[0],theme:"nano",default:t.val(),inline:!1,position:"right-end",comparison:!1,autoReposition:!0,components:{preview:!0,opacity:!0,hue:!0,interaction:{hex:!0,rgba:!0,hsva:!0}}});n.on("change",(function(e){let a=n.getColorRepresentation(),i="";void 0===a||"HEXA"===a?i=e.toHEXA().toString():"RGBA"===a?i=e.toRGBA().toString(3):"HSVA"===a&&(i=e.toHSVA().toString(3)),t.attr("data-color-picker-value",i).val(i).trigger("change")})),t.on("change",(function(e){void 0!==jQuery(this).attr("data-color-picker-value")&&jQuery(this).attr("data-color-picker-value")===jQuery(this).val()||n.setColor(jQuery(this).val())})),PaymentPage.Library.Colorpicker[t.attr("id")]=n,e.attr("data-payment-page-library-loaded","colorpicker")}))},Destroy:function(e){void 0!==e.attr("id")&&void 0!==this.instances[e.attr("id")]&&(PaymentPage.Library.Colorpicker[e.attr("id")].destroy(),delete this.instances[e.attr("id")])}},PaymentPage.Library.Conditionaldisplay={Init:function(e){e.off("change.payment_page_conditional_display").on("change.payment_page_conditional_display",(function(){PaymentPage.Library.Conditionaldisplay._processSingleElement(jQuery(this))})).each((function(){PaymentPage.Library.Conditionaldisplay._processSingleElement(jQuery(this))}))},refresh:function(){jQuery('[data-payment-page-library="conditionaldisplay"]').each((function(){PaymentPage.Library.Conditionaldisplay._processSingleElement(jQuery(this))}))},_processSingleElement:function(e){let t=payment_page_parse_args(e.attr("data-payment-page-library-args"),{constrain_to_parent_target:"",ignore_hidden_parent:0,hide_input_name:0,special_empty_for_false:0}),n=!1;if(e.is(":hidden")&&!t.ignore_hidden_parent)n=!1;else if(e.is(":checkbox")){let t=e.parents('form:first,[data-payment-page-component="data-schema-management"]:first');if(0!==t.length){let a=t.find("[name='"+e.attr("name")+'\'][type="hidden"]');n=a.length>0?e.is(":checked")?e.val():a.val():e.is(":checked")}else n=e.is(":checked")}else n=e.val();jQuery.each(t.target.split(" "),(function(a,i){if(-1!==i.indexOf("::")){let e=i.substr(0,i.indexOf("::")),a=i.replace(e+"::","");e===n||!0===n?PaymentPage.Library.Conditionaldisplay.__show(jQuery(a),t):PaymentPage.Library.Conditionaldisplay.__hide(jQuery(a),t)}else{(""!==t.constrain_to_parent_target?e.parents(t.constrain_to_parent_target).find("["+i+"]"):jQuery("["+i+"]")).each((function(){let e=!0;if(!1!==n){let a=void 0!==jQuery(this).attr(i)?jQuery(this).attr(i).split(" "):[];t.special_empty_for_false&&(n=""===n?"0":"1"),0!==a.length&&(e=n instanceof Array?0===payment_page_array_intersect(n,a).length:!payment_page_in_array(n,a))}if(e){if(PaymentPage.Library.Conditionaldisplay.__hide(jQuery(this),t),void 0!==jQuery(this).attr("data-payment-page-conditionaldisplay-hidden-callback")&&jQuery(jQuery(this).attr("data-payment-page-conditionaldisplay-hidden-callback")).trigger("click"),jQuery(this).is("option")&&!1!==n){let e=jQuery(this).parent();!e.is("select")||null!==e.val()&&e.val()!==jQuery(this).val()||e.find(" > option").each((function(){if(void 0!==jQuery(this).attr("selected")&&jQuery(this).removeAttr("selected"),-1!==jQuery.inArray(n,void 0!==jQuery(this).attr(i)?jQuery(this).attr(i).split(" "):[]))return e.val(jQuery(this).val()),jQuery(this).attr("selected","selected"),!1}))}}else PaymentPage.Library.Conditionaldisplay.__show(jQuery(this),t),void 0!==jQuery(this).attr("data-payment-page-conditionaldisplay-visible-callback")&&jQuery(jQuery(this).attr("data-payment-page-conditionaldisplay-visible-callback")).trigger("click");jQuery(this).find('[data-payment-page-library="conditionaldisplay"]').trigger("change"),jQuery(this).is(":input")?jQuery(this).trigger("change"):jQuery(this).is("option")&&jQuery(this).parent().trigger("change")}))}}))},__hide(e,t){e.hide(),t.hide_input_name&&e.find("[name]").each((function(){jQuery(this).attr("data-payment-page-hidden-name",jQuery(this).attr("name")),jQuery(this).removeAttr("name")}))},__show(e,t){e.show(),t.hide_input_name&&e.find("[data-payment-page-hidden-name]").each((function(){jQuery(this).attr("name",jQuery(this).attr("data-payment-page-hidden-name")),jQuery(this).removeAttr("data-payment-page-hidden-name")}))}},PaymentPage.Library.Popup={_default_args:{type:"default",allow_close:!0,allow_overlay_close:!0,trigger_app_init:!1},display:function(e,t){t=void 0===t?this._default_args:payment_page_parse_args(t,this._default_args),0!==jQuery("#payment-page-popup-overlay").length&&this.close(),jQuery("body").append('<div style="display:none;" id="payment-page-popup-overlay"><div id="payment-page-popup-wrapper" class="payment-page-interaction-overflow-container"><div id="payment-page-popup"></div>'+(t.allow_close?'<span class="payment-page-popup-close-icon" data-payment-page-popup-trigger="close"><svg data-ec-type="fill" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.8323 12.0001L21.6199 4.21215C22.1267 3.70557 22.1267 2.88651 21.6199 2.37993C21.1133 1.87336 20.2943 1.87336 19.7877 2.37993L11.9999 10.1679L4.21228 2.37993C3.70548 1.87336 2.88667 1.87336 2.3801 2.37993C1.8733 2.88651 1.8733 3.70557 2.3801 4.21215L10.1677 12.0001L2.3801 19.7881C1.8733 20.2947 1.8733 21.1138 2.3801 21.6204C2.63256 21.8731 2.96449 22 3.29619 22C3.62789 22 3.95959 21.8731 4.21228 21.6204L11.9999 13.8324L19.7877 21.6204C20.0404 21.8731 20.3721 22 20.7038 22C21.0355 22 21.3672 21.8731 21.6199 21.6204C22.1267 21.1138 22.1267 20.2947 21.6199 19.7881L13.8323 12.0001Z"/></svg></span>':"")+"</div></div>");let n=this;jQuery("html, body").addClass("payment-page-popup-visible"),jQuery("#payment-page-popup-overlay").attr("data-payment-page-type",t.type),this.getContainerObject().html(e),t.trigger_app_init&&PaymentPage.Init(this.getContainerObject()),jQuery("#payment-page-popup-overlay").show().off("click"),jQuery(document).off("keyup.payment_page_popup"),t.allow_close&&jQuery('#payment-page-popup-overlay [data-payment-page-popup-trigger="close"]').on("click",(function(){n.close()})),t.allow_overlay_close&&jQuery("#payment-page-popup-overlay").on("click",(function(e){void 0!==jQuery(e.target).attr("id")&&"payment-page-popup-overlay"===jQuery(e.target).attr("id")&&n.close()})),t.allow_close&&jQuery(document).on("keyup.payment_page_popup",(function(e){"Escape"===e.key&&n.close()}))},getContainerObject:function(){return jQuery("#payment-page-popup")},close:function(){PaymentPage.Destroy(this.getContainerObject()),jQuery(document).off("keyup.payment_page_popup"),jQuery("#payment-page-popup-overlay").off("click").remove(),jQuery("html, body").removeClass("payment-page-popup-visible")}},PaymentPage.Library.Sortable={Init:function(e,t){let n=this;void 0!==window.Sortable?this._init(e,t):PaymentPage.LoadAssets(PaymentPage.settings.libraries.sortable,(function(){n._init(e,t)}))},_init:function(e,t){new window.Sortable(jQuery(e)[0],t)}},PaymentPage.Library.Wpmedia={Init:function(e,t){if(void 0!==wp.media){if(void 0===t&&(t={},void 0!==e.attr("data-payment-page-library-args")))try{t=JSON.parse(e.attr("data-payment-page-library-args"))}catch(e){t={}}this._init(e,t)}else console.log("... this is rather funny to load, wp media is not present.")},_init:function(e,t){if(void 0!==e.attr("data-payment-page-library-loaded"))return;t=payment_page_parse_args(t,{allow_delete:1}),e.attr("data-payment-page-library-loaded",0);let n=e.find("> input"),a=n.val();payment_page_is_number(a)&&void 0!==n.attr("data-attachment-src")&&""!==n.attr("data-attachment-src")&&(a=n.attr("data-attachment-src")),payment_page_is_number(a)&&0!==parseInt(a)?(e.append(payment_page_element_loader("mini")),PaymentPage.API.fetch("wp/v2/media/"+a,{},(function(n){e.find(".payment-page-application-loader-wrapper").remove(),PaymentPage.Library.Wpmedia._initDataReady(e,t,void 0!==n.source_url?n.source_url:"")}))):this._initDataReady(e,t,a)},_initDataReady:function(e,t,n){let a=t.type,i="";i+='<img data-payment-page-library-wpmedia-trigger="'+a+'" src="'+n+'"/>',i+='<div data-payment-page-component-form-section="actions">',i+='<span data-payment-page-button="primary" data-payment-page-button-size="tiny" data-payment-page-library-wpmedia-trigger="set_'+a+'">Set</span><span data-payment-page-button="gray" data-payment-page-button-size="tiny" data-payment-page-library-wpmedia-trigger="edit_'+a+'">Edit</span>',n.length>0&&""+n!="0"&&e.attr("data-payment-page-interaction-state","uploaded"),t.allow_delete&&(i+='<span data-payment-page-button="danger-plain" data-payment-page-button-size="tiny" data-payment-page-library-wpmedia-trigger="remove_'+a+'">Delete</span>'),i+="</div>",e.append(i),e.find('[data-payment-page-library-wpmedia-trigger="set_'+a+'"], [data-payment-page-library-wpmedia-trigger="edit_'+a+'"], [data-payment-page-library-wpmedia-trigger="'+a+'"]').off("click").on("click",(function(){let t=wp.media({title:"Upload File",multiple:!1}).open().on("select",(function(n){let a=t.state().get("selection").first().toJSON();e.find(":input").each((function(){jQuery(this).attr("value",a.id).val(a.id).trigger("change")})),e.find("img").attr("src",a.url),e.attr("data-payment-page-interaction-state","uploaded")}))})),e.find(' > [data-payment-page-component-form-section="actions"] > [data-payment-page-library-wpmedia-trigger="remove_'+a+'"]').off("click").on("click",(function(){t.is_multiple?e.remove():(e.find("img").attr("src",""),e.find("input").val("").trigger("change"),e.attr("data-payment-page-interaction-state","pending"))})),e.attr("data-payment-page-library-loaded",1)}},PaymentPage.API={post:function(e,t,n){return this.__request(e,"POST",t,n)},fetch:function(e,t,n){return this.__request(e,"GET",t,n)},__request:function(e,t,n,a){return jQuery.ajax({url:PaymentPage.settings.rest_url+e,method:t,beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",PaymentPage.settings.rest_nonce)},data:n}).done((function(e,t,n){a(e)})).fail((function(e){a(e.responseJSON)}))}},PaymentPage.Hashtag={_registeredEvent:!1,inTriggerLoop:!1,Init:function(){this._registeredEvent||(jQuery(window).on("hashchange",(function(){PaymentPage.Hashtag._eventTriggered()})),this._registeredEvent=!0)},_eventTriggered:function(){let e=!0;this.inTriggerLoop=!0,jQuery.each(PaymentPage._components.instanced,(function(t,n){return jQuery.each(n,(function(t,n){if("function"==typeof n.__onWindowHashChangeGlobal)return n.__onWindowHashChangeGlobal(),e;if("function"!=typeof n.__onWindowHashChange||void 0===n.container.attr("data-payment-page-hashtag-identifier")||void 0===n.container)return e;let a=payment_page_hashtag_container_from_browser(n.container);return a===n.container.attr("data-payment-page-hashtag-identifier")||(n.__onWindowHashChange(a),e=!1),e})),e})),this.inTriggerLoop=!1}},PaymentPage.Resource={loadCSS:function(e,t){let n="object"==typeof t?t:{};n.rel="stylesheet",n.type="text/css",n.href=e+"?version="+PaymentPage.settings.file_version,jQuery("<link/>",n).appendTo("head"),PaymentPage._assets.loaded[PaymentPage._assets.loaded.length]=e},loadJS:function(e,t,n,a=!0){let i=jQuery.ajax({type:"GET",url:e+(a?"?version="+PaymentPage.settings.file_version:""),success:function(){PaymentPage._assets.loaded[PaymentPage._assets.loaded.length]=e,"function"==typeof t&&t()},dataType:"script",cache:!0});"function"==typeof n&&i.fail(n)},getTemplateFile:function(e,t){jQuery.ajax({type:"GET",url:e+"?version="+PaymentPage.settings.file_version,success:t,dataType:"html",cache:!0})}},PaymentPage.Template={_getIdentifier:function(e,t){return t=e+"/"+t,PaymentPage._template_prefix+t.replaceAll("/template","").replaceAll("/","-").replace(".html","")},isLoaded:function(e,t){if("string"==typeof t)return jQuery("#tmpl-"+this._getIdentifier(e,t)).length>0;let n=this,a=!0;return jQuery.each(t,(function(t,i){if(0===jQuery("#tmpl-"+n._getIdentifier(e,i)).length)return a=!1,!1})),a},preload:function(e,t,n){if("string"==typeof t){if(this.isLoaded(e,t))return void("function"==typeof n&&n());let a=this;return void PaymentPage.Resource.getTemplateFile(PaymentPage.getComponentAssetPath(e,t),(function(i){jQuery("body").append('<script type="text/template" id="tmpl-'+a._getIdentifier(e,t)+'">'+i+"<\/script>"),"function"==typeof n&&n()}))}let a=_.head(t);if(1===t.length)return void this.preload(e,a,n);let i=this,o=_.drop(t,1);this.preload(e,a,(function(){i.preload(e,o,n)}))},get:function(e,t,n={},a=""){"object"!=typeof n&&(n={});let i=this._getIdentifier(e,t);if(jQuery("#tmpl-"+i).length>0){let e=wp.template(i);if(void 0===a||""===a)return e(n);jQuery("body").append('<div id="tmpl-find-'+i+'" style="display:none;">'+e(n)+"</div>");let t=jQuery("#tmpl-find-"+i),o=t.find(a).html();return t.remove(),o}return!1},load:function(e,t,n,a={},i=!1,o="set"){"object"!=typeof a&&(a={});let r=this;this.preload(t,n,(function(){"append"===o?e.append(r.get(t,n,a)):"prepend"===o?e.prepend(r.get(t,n,a)):e.html(r.get(t,n,a)),PaymentPage.Init(e),void 0!==PaymentPage.settings.template_extra[t+"/"+n]&&jQuery.each(PaymentPage.settings.template_extra[t+"/"+n],(function(t,n){PaymentPage.LoadAssets(n.file,(function(){"function"==typeof window[n.callback]&&window[n.callback](e,a)}))})),"function"==typeof i&&i()}))}};